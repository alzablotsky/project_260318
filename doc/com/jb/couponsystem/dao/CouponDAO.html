<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Mon Mar 26 22:14:22 IDT 2018 -->
<title>CouponDAO</title>
<meta name="date" content="2018-03-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CouponDAO";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CouponDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/jb/couponsystem/dao/CompanyDAO.html" title="interface in com.jb.couponsystem.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/jb/couponsystem/dao/CustomerDAO.html" title="interface in com.jb.couponsystem.dao"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/jb/couponsystem/dao/CouponDAO.html" target="_top">Frames</a></li>
<li><a href="CouponDAO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.jb.couponsystem.dao</div>
<h2 title="Interface CouponDAO" class="title">Interface CouponDAO</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/jb/couponsystem/dbdao/CouponDBDAO.html" title="class in com.jb.couponsystem.dbdao">CouponDBDAO</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">CouponDAO</span></pre>
<div class="block">This interface includes all methods implemented by 
 CouponDBDAO class.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Alexander Zablotsky</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#createCoupon-com.jb.couponsystem.entities.Coupon-">createCoupon</a></span>(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)</code>
<div class="block">This method creates coupon, received as an object from the outside,
 as a parameter in the database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getAllCoupons--">getAllCoupons</a></span>()</code>
<div class="block">This method returns all the coupons from the database belonging to the logged in company .</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getAllPurchasedCouponsByPrice-double-">getAllPurchasedCouponsByPrice</a></span>(double&nbsp;price)</code>
<div class="block">This method returns from the database all the coupons purchased by the logged in customer
 the price of which is lower than the given price.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getAllPurchasedCouponsByType-com.jb.couponsystem.enums.CouponType-">getAllPurchasedCouponsByType</a></span>(<a href="../../../../com/jb/couponsystem/enums/CouponType.html" title="enum in com.jb.couponsystem.enums">CouponType</a>&nbsp;type)</code>
<div class="block">This method returns from the database all the coupons of the given type purchased by the logged in customer.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getCoupon-long-">getCoupon</a></span>(long&nbsp;id)</code>
<div class="block">This method returns coupon from the database belonging to the logged in company .</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getCouponsByEndDate-java.util.Date-">getCouponsByEndDate</a></span>(java.util.Date&nbsp;endDate)</code>
<div class="block">This method returns all the coupons from the database belonging to the logged in company the end date of which is earlier than the given end date.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getCouponsByPrice-double-">getCouponsByPrice</a></span>(double&nbsp;price)</code>
<div class="block">This method returns all the coupons from the database belonging to the logged in company the price of which is lower than the given price.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#getCouponsByType-com.jb.couponsystem.enums.CouponType-">getCouponsByType</a></span>(<a href="../../../../com/jb/couponsystem/enums/CouponType.html" title="enum in com.jb.couponsystem.enums">CouponType</a>&nbsp;type)</code>
<div class="block">This method returns all the coupons from the database belonging to the logged in company of the given coupon type.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#purchaseCoupon-com.jb.couponsystem.entities.Coupon-">purchaseCoupon</a></span>(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)</code>
<div class="block">This method allows the logged in customer to purchase coupon given as an object from the outside.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#removeCoupon-com.jb.couponsystem.entities.Coupon-">removeCoupon</a></span>(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)</code>
<div class="block">This method removes coupon of the logged in company, received as an object from the outside,
 from the database.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/jb/couponsystem/dao/CouponDAO.html#updateCoupon-com.jb.couponsystem.entities.Coupon-">updateCoupon</a></span>(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)</code>
<div class="block">This method updates coupon of the logged in company in the database, replacing it with the coupon
 received as an object from the outside.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createCoupon-com.jb.couponsystem.entities.Coupon-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCoupon</h4>
<pre>void&nbsp;createCoupon(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)
           throws <a href="../../../../com/jb/couponsystem/exceptions/CouponAlreadyExistsException.html" title="class in com.jb.couponsystem.exceptions">CouponAlreadyExistsException</a>,
                  java.lang.InterruptedException</pre>
<div class="block">This method creates coupon, received as an object from the outside,
 as a parameter in the database.
 First it checks if a coupon with the same ID or with the same name
 already exists in the database, in which case the coupon cannot be created,
 and CouponAlreadyExistsException is thrown.
 Otherwise - it calls CouponRepo class to save the coupon in the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - coupon object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponAlreadyExistsException.html" title="class in com.jb.couponsystem.exceptions">CouponAlreadyExistsException</a></code> - if a coupon with the same ID 
 or with the same name already exists in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="removeCoupon-com.jb.couponsystem.entities.Coupon-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCoupon</h4>
<pre>void&nbsp;removeCoupon(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)
           throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                  java.lang.InterruptedException</pre>
<div class="block">This method removes coupon of the logged in company, received as an object from the outside,
 from the database.
 First it checks if the coupon with the received ID of the logged in company exists in the database.
 If it does not exist -  CouponNotFoundException is thrown.
 Otherwise - it calls CouponRepo class to delete the coupon from the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - coupon object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the coupon with the given ID and with the logged in company ID
 does not exist in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="updateCoupon-com.jb.couponsystem.entities.Coupon-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCoupon</h4>
<pre>void&nbsp;updateCoupon(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)
           throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                  <a href="../../../../com/jb/couponsystem/exceptions/IllegalUpdateException.html" title="class in com.jb.couponsystem.exceptions">IllegalUpdateException</a>,
                  java.lang.InterruptedException</pre>
<div class="block">This method updates coupon of the logged in company in the database, replacing it with the coupon
 received as an object from the outside.
 First it checks by ID and company name if the received coupon exists in the database, 
 if not - CouponNotFoundException is thrown.
 Then it checks if there is a difference between any attribute, excluding PRICE and END DATE, 
 of the received coupon and the coupon in the database. If there is a difference - IllegalUpdateException is thrown
 since only PRICE and END DATE of the coupon may be changed.
 Otherwise - it calls CouponRepo class to save the received coupon in the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - coupon object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the coupon with the given title and logged in company ID does not exist in the database</dd>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/IllegalUpdateException.html" title="class in com.jb.couponsystem.exceptions">IllegalUpdateException</a></code> - if one of the attributes, excluding PRICE and END DATE, of the received coupon is different
 from the corresponding attribute of the coupon in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getCoupon-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCoupon</h4>
<pre><a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;getCoupon(long&nbsp;id)
          throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                 java.lang.InterruptedException</pre>
<div class="block">This method returns coupon from the database belonging to the logged in company . The coupon is found by the logged in company ID
 and coupon ID which are received from the outside.
 First it checks if the coupon with the received ID and the logged in company ID exists in the database, 
 if not - CouponNotFoundException is thrown. Otherwise - it calls CouponRepo class to find the coupon with the received ID
 and the logged in company ID in the database and returns this coupon as an object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - coupon ID</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>coupon object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the coupon with the received ID and the logged in company ID does not exist in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getAllCoupons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllCoupons</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getAllCoupons()
                                    throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                           java.lang.InterruptedException</pre>
<div class="block">This method returns all the coupons from the database belonging to the logged in company .
 It calls CouponRepo class to find all coupons of the logged in company by its ID and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logged in company's coupons as a collection of objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if there is no coupons belonging to the logged in company in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getCouponsByType-com.jb.couponsystem.enums.CouponType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCouponsByType</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getCouponsByType(<a href="../../../../com/jb/couponsystem/enums/CouponType.html" title="enum in com.jb.couponsystem.enums">CouponType</a>&nbsp;type)
                                       throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                              java.lang.InterruptedException</pre>
<div class="block">This method returns all the coupons from the database belonging to the logged in company of the given coupon type. 
 The coupon type is received as a parameter from the outside. 
 The method calls CouponRepo class to find all coupons by the given type and the logged in company ID and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - coupon type</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logged in company's coupons as a collection of objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if there is no coupons belonging to the logged in company of the given type in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getCouponsByPrice-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCouponsByPrice</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getCouponsByPrice(double&nbsp;price)
                                        throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                               java.lang.InterruptedException</pre>
<div class="block">This method returns all the coupons from the database belonging to the logged in company the price of which is lower than the given price. 
 The price is received as a parameter from the outside. 
 The method calls CouponRepo class to find all coupons by the given price and the logged in company ID and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>price</code> - coupon's price</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logged in company's coupons under the given price as a collection of objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if there is no coupons belonging to the logged in company the price of which is lower than the given price
 in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getCouponsByEndDate-java.util.Date-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCouponsByEndDate</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getCouponsByEndDate(java.util.Date&nbsp;endDate)
                                          throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                                 java.lang.InterruptedException</pre>
<div class="block">This method returns all the coupons from the database belonging to the logged in company the end date of which is earlier than the given end date. 
 The end date is received as a parameter from the outside. 
 The method calls CouponRepo class to find all coupons by the given end date and the logged in company ID and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>endDate</code> - coupon's end date</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logged in company's coupons the end date of which is later than the given end date as a collection of objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if there is no coupons belonging to the logged in company with end date earlier than the given end date in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="purchaseCoupon-com.jb.couponsystem.entities.Coupon-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purchaseCoupon</h4>
<pre>void&nbsp;purchaseCoupon(<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&nbsp;c)
             throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                    <a href="../../../../com/jb/couponsystem/exceptions/CouponAlreadyPurchasedException.html" title="class in com.jb.couponsystem.exceptions">CouponAlreadyPurchasedException</a>,
                    <a href="../../../../com/jb/couponsystem/exceptions/CouponOutOfStockException.html" title="class in com.jb.couponsystem.exceptions">CouponOutOfStockException</a>,
                    <a href="../../../../com/jb/couponsystem/exceptions/CouponExpiredException.html" title="class in com.jb.couponsystem.exceptions">CouponExpiredException</a>,
                    java.lang.InterruptedException</pre>
<div class="block">This method allows the logged in customer to purchase coupon given as an object from the outside.
 First it checks if the given coupon exists in the database, if not - CouponNotFoundException is thrown. 
 Then it checks whether the given coupon was already purchased by the logged in customer,
 in which case CouponAlreadyPurchasedException is thrown.
 Then it checks whether the amount of the coupon is zero, in which case CouponOutOfStockException is thrown.
 Then it checks whether the end date of the coupon is before the present date, in which case CouponExpiredException is thrown.
 Otherwise, it adds the logged in customer to the list of customers  that purchased the coupon,
 Then it updated the amount of coupon in the stock by decreasing it by one,
 Finally it saves the coupon details in the database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - coupon object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the coupon does not exist in the database</dd>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponAlreadyPurchasedException.html" title="class in com.jb.couponsystem.exceptions">CouponAlreadyPurchasedException</a></code> - if the coupon was already purchased by the logged in customer</dd>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponOutOfStockException.html" title="class in com.jb.couponsystem.exceptions">CouponOutOfStockException</a></code> - if the coupon amount is zero</dd>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponExpiredException.html" title="class in com.jb.couponsystem.exceptions">CouponExpiredException</a></code> - if the coupon end date is before the present date</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getAllPurchasedCouponsByType-com.jb.couponsystem.enums.CouponType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllPurchasedCouponsByType</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getAllPurchasedCouponsByType(<a href="../../../../com/jb/couponsystem/enums/CouponType.html" title="enum in com.jb.couponsystem.enums">CouponType</a>&nbsp;type)
                                                   throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                                          java.lang.InterruptedException</pre>
<div class="block">This method returns from the database all the coupons of the given type purchased by the logged in customer. 
 The coupon type is received as a parameter from the outside. 
 The method calls CouponRepo class to find all coupons of the given type and
 customer ID and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - coupon type</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of coupon objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the customer's coupons of the given type do not exist in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
<a name="getAllPurchasedCouponsByPrice-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getAllPurchasedCouponsByPrice</h4>
<pre>java.util.Collection&lt;<a href="../../../../com/jb/couponsystem/entities/Coupon.html" title="class in com.jb.couponsystem.entities">Coupon</a>&gt;&nbsp;getAllPurchasedCouponsByPrice(double&nbsp;price)
                                                    throws <a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a>,
                                                           java.lang.InterruptedException</pre>
<div class="block">This method returns from the database all the coupons purchased by the logged in customer
 the price of which is lower than the given price. This price is received as a parameter from the outside. 
 The method calls CouponRepo class to find all coupons under the given price with the given customer ID
 and saves them as a collection of objects.
 Then it checks if this collection is empty, if yes - CouponNotFoundException is thrown.
 Otherwise - the collection is returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>price</code> - coupon price</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of coupon objects</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/jb/couponsystem/exceptions/CouponNotFoundException.html" title="class in com.jb.couponsystem.exceptions">CouponNotFoundException</a></code> - if the customer's coupons under the given price do not exist in the database</dd>
<dd><code>java.lang.InterruptedException</code> - if the thread was interrupted while waiting for connection</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CouponDAO.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/jb/couponsystem/dao/CompanyDAO.html" title="interface in com.jb.couponsystem.dao"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/jb/couponsystem/dao/CustomerDAO.html" title="interface in com.jb.couponsystem.dao"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/jb/couponsystem/dao/CouponDAO.html" target="_top">Frames</a></li>
<li><a href="CouponDAO.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
